{
  "name": "edb-vscode",
  "displayName": "EDB - Ethereum Debugger",
  "description": "Source-level time-travel debugger for Ethereum smart contracts",
  "version": "0.0.1",
  "publisher": "edb-rs",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Debuggers",
    "Other"
  ],
  "keywords": [
    "ethereum",
    "solidity",
    "debugger",
    "blockchain",
    "evm"
  ],
  "activationEvents": [
    "onCommand:edb.startDebug",
    "onCommand:edb.connectToEngine",
    "onDebugResolve:edb"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "edb.startDebug",
        "title": "Start EDB Debug Session",
        "category": "EDB"
      },
      {
        "command": "edb.connectToEngine",
        "title": "Connect to EDB Engine",
        "category": "EDB"
      },
      {
        "command": "edb.debugTransaction",
        "title": "Debug Transaction",
        "category": "EDB"
      },
      {
        "command": "edb.openWebUI",
        "title": "Open EDB Web UI",
        "category": "EDB"
      }
    ],
    "debuggers": [
      {
        "type": "edb",
        "label": "EDB Ethereum Debugger",
        "program": "./dist/debugProvider.js",
        "runtime": "node",
        "configurationAttributes": {
          "launch": {
            "required": [
              "transactionHash"
            ],
            "properties": {
              "transactionHash": {
                "type": "string",
                "description": "Transaction hash to debug",
                "default": ""
              },
              "blockNumber": {
                "type": "number",
                "description": "Block number (optional, defaults to transaction block)"
              },
              "rpcUrl": {
                "type": "string",
                "description": "EDB engine RPC URL",
                "default": "ws://localhost:8545"
              },
              "autoBreakOnRevert": {
                "type": "boolean",
                "description": "Automatically break on revert/exception",
                "default": true
              }
            }
          }
        },
        "initialConfigurations": [
          {
            "type": "edb",
            "request": "launch",
            "name": "Debug Ethereum Transaction",
            "transactionHash": "${input:transactionHash}",
            "rpcUrl": "ws://localhost:8545"
          }
        ],
        "configurationSnippets": [
          {
            "label": "EDB: Debug Transaction",
            "description": "Debug an Ethereum transaction with EDB",
            "body": {
              "type": "edb",
              "request": "launch",
              "name": "Debug Transaction",
              "transactionHash": "^\"\\${input:transactionHash}\"",
              "rpcUrl": "ws://localhost:8545"
            }
          }
        ]
      }
    ],
    "configuration": {
      "type": "object",
      "title": "EDB Configuration",
      "properties": {
        "edb.engine.rpcUrl": {
          "type": "string",
          "default": "ws://localhost:8545",
          "description": "Default RPC URL for EDB engine"
        },
        "edb.engine.autoConnect": {
          "type": "boolean",
          "default": true,
          "description": "Automatically connect to engine on startup"
        },
        "edb.webui.port": {
          "type": "number",
          "default": 3000,
          "description": "Port for embedded Web UI"
        },
        "edb.debug.autoBreakOnRevert": {
          "type": "boolean",
          "default": true,
          "description": "Automatically break on revert/exception"
        },
        "edb.debug.showOpcodes": {
          "type": "boolean",
          "default": false,
          "description": "Show opcodes alongside source code"
        }
      }
    },
    "keybindings": [
      {
        "command": "edb.startDebug",
        "key": "ctrl+shift+d",
        "mac": "cmd+shift+d",
        "when": "editorTextFocus"
      }
    ],
    "menus": {
      "explorer/context": [
        {
          "command": "edb.debugTransaction",
          "when": "resourceExtname == .sol",
          "group": "edb"
        }
      ]
    }
  },
  "scripts": {
    "build": "tsc -p ./",
    "dev": "tsc -watch -p ./",
    "clean": "rm -rf dist .tsbuildinfo",
    "package": "vsce package",
    "publish": "vsce publish",
    "test": "vitest"
  },
  "devDependencies": {
    "@types/vscode": "^1.85.0",
    "@types/node": "^20.0.0",
    "@typescript-eslint/eslint-plugin": "^8.0.0",
    "@typescript-eslint/parser": "^8.0.0",
    "eslint": "^9.0.0",
    "typescript": "^5.0.0",
    "@vscode/vsce": "^2.15.0",
    "vitest": "^1.0.0"
  },
  "dependencies": {
    "@edb/types": "workspace:*",
    "@edb/client": "workspace:*"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/edb-rs/edb"
  },
  "bugs": {
    "url": "https://github.com/edb-rs/edb/issues"
  },
  "homepage": "https://github.com/edb-rs/edb#readme",
  "icon": "resources/icon.png",
  "galleryBanner": {
    "color": "#1e40af",
    "theme": "dark"
  }
}